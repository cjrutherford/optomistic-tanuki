<app-card>
    <app-grid [columns]="10">
    @for (p of profiles; track p.id) {
            <app-tile [class.active]="p.id === internalSelectedProfile()?.id">
                <h2>{{p.profileName}}</h2>
                <lib-profile-photo src="{{p.profilePic}}" alt="{{p.profileName}}'s picture" />
                <p>{{p.bio}}</p>
                <app-button (click)="selectProfile(p.id)">Select Profile</app-button>
            </app-tile>
        }
        <app-tile>
            <h2>Add New Profile</h2>
            <lib-profile-photo src="https://placehold.co/100x100" alt="Add new profile" />
            <app-button (click)="addNewProfile()">Add Profile</app-button>
        </app-tile>
    </app-grid>
</app-card>

<ng-template #profileDialog>
    <app-card>
        <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          <h2>Create New Profile</h2>
          <lib-text-input label="Profile Name" formControlName="profileName"></lib-text-input>
          <lib-image-upload (imageUpload)="imageUploaded($event)"></lib-image-upload>
          <lib-text-input label="Bio" formControlName="bio"></lib-text-input>
          <app-button variant="success" type="submit">Submit</app-button>
          <app-button variant="warning" type="button" (click)="onCancel()">Cancel</app-button>
        </form>
    </app-card>
</ng-template>
<!-- <app-button variant="success" (click)="addNewProfile()">Add New Profile</app-button> -->
